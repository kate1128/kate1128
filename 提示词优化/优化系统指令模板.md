> 本章将介绍一个适用于 LLM 的优化提示工具。这个工具能够帮助像 [PromptPerfect](https://promptperfect.jina.ai/home) 那样有效地优化提示，从而最大限度地发挥 LLM 的潜力，并获得更准确、与上下文相关的回答。
>

# 引言
对于大语言模型（Large Language Models, LLMs），**通常需要遵循一些原则和策略来创建能产生高质量回答的有效提示，实际上，可以利用这些原则和策略来有效地优化提示：**

1. **明确和具体**：应该尽可能明确和具体地描述希望 LLM 执行的任务。如果期望得到特定类型的回答，应在提示中明确指出。同时，如果存在任何具体的限制或要求，也应明确提出。
2. **开放式与封闭式**：可以根据需求选择开放式问题（允许多种回答）或封闭式问题（限制回答范围）。这两种类型的问题各有优势，应根据实际需求进行选择。
3. **语境清晰**：为了让 LLM 生成更有意义的回答，需要确保提供足够的上下文。如果提示是基于之前的信息，那么这些信息应被包含在内。
4. **创造力和想象力**：如果期望得到创新性的输出，可以鼓励人工智能进行发散思维或头脑风暴。如果这符合的需求，还可以建议人工智能模拟某些场景。

# 优化 Prompt 的代码示例
1. 导入此次实验所需的依赖库

```python
import os
from dotenv import load_dotenv, find_dotenv
from openai import OpenAI

# 读取本地/项目的环境变量。

# find_dotenv() 寻找并定位 .env 文件的路径
# load_dotenv() 读取该 .env 文件，并将其中的环境变量加载到当前的运行环境中  
# 如果你设置的是全局的环境变量，这行代码则没有任何作用。
_ = load_dotenv(find_dotenv())

# 从环境变量中获取 OpenAI API Key 或者直接赋值
OPENAI_API_KEY = os.environ['OPENAI_API_KEY']

# 如果使用的是官方 API，就直接用 https://api.openai.com/v1 就行。
# 如果使用的不是官方 API，而是通过代理进行请求，设置代理的 URL
BASE_URL = 'https://xiaoai.plus/v1'
```

2. 实例化 OpenAI 对象

```python
# 实例化 OpenAI 对象
# 传入参数：OpenAI API Key（必需）、Base URL 和最大重试次数
client = OpenAI(api_key=OPENAI_API_KEY, base_url=BASE_URL, max_retries=3)
```

## `get_completions`方法
```python
# 参数 n，整数或 Null，可选项，默认为 1。为每条输入信息生成多少个聊天完成选项。
# 参数 temperature，实数值或 Null，可选项，默认为 1。使用的采样温度，介于 0 和 2 之间。0.8 等较高值会使输出更加随机，而 0.2 等较低值会使输出更加集中和确定。

def get_completions1(system_instruction, llm_prompt, model_endpoint):

    response = client.chat.completions.create(model=model_endpoint,
                                              messages=[{"role": "system", "content": system_instruction},
                                                        {"role": "user", "content": llm_prompt}
                                                       ],
                                              n=1, temperature=0.60, seed=42,
                                              presence_penalty=0, frequency_penalty=0,
                                              max_tokens=1024
                                             )

    return response.choices[0].message.content.strip()


def get_completions2(system_instruction, llm_prompt, model_endpoint):

    response = client.chat.completions.create(model=model_endpoint,
                                              messages=[{"role": "system", "content": system_instruction},
                                                        {"role": "user", "content": llm_prompt}
                                                       ],
                                              n=1, temperature=0, seed=42,
                                              presence_penalty=0, frequency_penalty=0,
                                              max_tokens=1024
                                             )

    return response.choices[0].message.content.strip()
```

## `system_instruction` 模板
下面给出的 `system_instruction` 模板的本质是利用**上下文学习**（Few-shot 演示）和提示工程。

```python
# 中文
system_instruction1 = f"""你是一位出色的人工智能提示工程师。你是设计 ChatGPT 提示的专家，能取得最佳效果。

要创建能产生高质量回答的有效提示，请考虑以下原则和策略：
1. 明确和具体：尽可能明确、具体地说明你希望人工智能做些什么。如果你想要某种类型的答复，请在提示中简要说明。如果有具体的限制或要求，也一定要写明。
2. 开放式与封闭式：根据你的需求，你可能会选择开放式问题（允许多种回答）或封闭式问题（缩小可能回答的范围）。两者都有其用途，请根据自己的需要进行选择。
3. 语境清晰：确保提供足够的上下文，以便人工智能生成有意义的相关回复。如果提示是基于先前的信息，则应确保包含这些信息。
4. 创造力和想象力：如果你想要创造性的输出，可以鼓励人工智能发散思维或进行头脑风暴。如果符合你的需求，你甚至可以建议人工智能想象某些场景。

你的任务是根据用户给定的提示进行优化，设计出一个新的、经过优化的 ChatGPT 提示。

下面提供了一些好的示例，供你参考：
原始提示：你的任务是使用 Python，根据用户给的数据绘制散点图。
优化后的提示：你的任务是使用 Python 编程语言，根据用户给定的数据绘制一个散点图。请确保散点图能够清晰地展示数据之间的关系，并使用适当的颜色、形状和标签来区分不同的数据点。此外，你还需要为图表添加标题、坐标轴标签以及图例（如果适用），以便更好地解释数据的含义。最后，请将生成的散点图保存为一个图像文件，以便用户可以查看和分享。
原始提示：你的任务是将用户给定的英文翻译成中文。
优化后的提示：请将以下英文文本准确地翻译成中文，保持原文的意思和语境不变。如果英文中包含专有名词或术语，请在翻译时注明其标准中文名称或提供相应的解释。此外，请确保翻译后的中文句子通顺、语法正确，并且符合中文的表达习惯。
原始提示：你的任务是指导初学者系统地学习机器学习。
优化后的提示：你被要求为一个完全没有机器学习背景的初学者设计一个详细的学习计划。请你描述这个计划，包括以下维度：首先，推荐适合初学者的机器学习入门教材或在线课程；其次，提供一个结构化的学习路线图，明确指出在学习过程中应该先掌握哪些基本概念，再逐步深入到哪些高级主题；最后，请提出一些实践建议，比如初学者可以通过哪些项目来巩固理论知识，以及在遇到困难时如何寻求帮助和资源。请确保你的回答涵盖了机器学习的基础知识、算法理解、编程实践，以及如何解决实际问题等方面。
"""

# 英文
system_instruction2 = f"""You are an exceptional AI prompt engineer. \
You are an expert at writing ChatGPT Prompts for best results.

To create efficient prompts that yield high-quality responses, \
consider the following principles and strategies:
1. Clear and Specific: Be as clear and specific as possible about what you want from the AI. If you want a certain type of response, outline that in your prompt. If there are specific constraints or requirements, make sure to include those as well.
2. Open-ended vs. Closed-ended: Depending on what you're seeking, you might choose to ask an open-ended question (which allows for a wide range of responses) or a closed-ended question (which narrows down the possible responses). Both have their uses, so choose according to your needs.
3. Contextual Clarity: Make sure to provide enough context so that the AI can generate a meaningful and relevant response. If the prompt is based on prior information, ensure that this is included.
4. Creativity and Imagination: If you want creative output, encourage the AI to think outside the box or to brainstorm. You can even suggest the AI to imagine certain scenarios if it fits your needs.

Your task is to design a new, optimized ChatGPT prompt based on the user-given prompt.
Some good examples are provided below for your reference:
Original prompt: Your task is to plot a scatterplot based on data given by the user, using Python.
Optimized prompt: Your task is to use the Python programming language to draw a scatterplot based on data given by a user. Make sure that the scatterplot clearly shows the relationships between the data and uses appropriate colors, shapes, and labels to distinguish the different data points. In addition, you will need to add a title, axis labels, and a legend (if applicable) to the chart to better explain the meaning of the data. Finally, please save the resulting scatterplot as an image file so that users can view and share it.
Original prompt: Your task is to translate the English text given by the user into Chinese.
Optimized prompt: Please translate the following English text accurately into Chinese, keeping the meaning and context of the original text intact. If the English text contains proper nouns or terms, please indicate their standard Chinese names or provide corresponding explanations when translating. In addition, please make sure that the translated Chinese sentences are fluent, grammatically correct, and in line with Chinese expressions.
Original prompt: You have been tasked with guiding a beginner to learn machine learning in a systematic way.
Optimized prompt: You have been asked to design a detailed learning plan for a beginner who has no machine learning background at all. Please describe the plan, including the following dimensions: first, recommend introductory machine learning textbooks or online courses suitable for beginners; second, provide a structured learning roadmap that clearly indicates which basic concepts should be mastered before progressively delving into which advanced topics during the learning process; finally, please make some practical suggestions, such as which projects beginners can work on to consolidate their theoretical knowledge and how to seek help and resources when they are how to seek help and resources when encountering difficulties. Please make sure your answer covers the basics of machine learning, algorithmic understanding, programming practices, and how to solve real-world problems.
"""
```

## 你的任务是使用 Python，根据用户给的数据绘制热力图
### 中文
```python
llm = "gpt-3.5-turbo-0125"

original_prompt = "你的任务是使用 Python，根据用户给的数据绘制热力图。"
original_prompt = f"""原始提示：{original_prompt}"""

optimized_prompt = get_completions1(system_instruction1, original_prompt, llm)
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)

instruction_ = "你是世界知识专家。"
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

<details class="lake-collapse"><summary id="ud90c2766"><span class="ne-text">output：</span></summary><pre data-language="json" id="iOXbm" class="ne-codeblock language-json"><code>原始提示：你的任务是使用 Python，根据用户给的数据绘制热力图。

优化后的提示：请使用 Python 编程语言，根据用户提供的数据生成一个热力图。在生成热力图时，确保数据的分布和关联性能够清晰地展现出来。你可以选择适当的颜色映射方案，并添加合适的标签和标题，以便更好地解释热力图所展示的信息。最后，建议将生成的热力图保存为一个图像文件，以便用户查看和分享。

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
要绘制热力图，首先需要使用Python中的库来处理数据和绘图。常用的库包括NumPy、Pandas和Matplotlib。以下是一个简单的示例代码，用于绘制热力图：

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# 创建一个示例数据，这里使用随机生成的数据
data = np.random.rand(10, 10)

# 将数据转换为DataFrame
df = pd.DataFrame(data)

# 绘制热力图
plt.figure(figsize=(8, 6))
plt.imshow(df, cmap='hot', interpolation='nearest')
plt.colorbar()
plt.show()
```

在这个示例中，首先生成了一个随机数据矩阵，然后将数据转换为Pandas的DataFrame对象。接下来，使用Matplotlib库绘制热力图，可以根据需要自定义图形的大小、颜色映射等参数。

你可以根据实际的数据和需求，对这个示例代码进行调整和扩展，以绘制出符合你要求的热力图。

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
您可以使用 Python 中的 Matplotlib 库来生成热力图，以下是一个简单的示例代码：

```python
import numpy as np
import matplotlib.pyplot as plt

# 生成随机数据作为示例
data = np.random.rand(10, 10)

fig, ax = plt.subplots()
cax = ax.matshow(data, cmap='YlOrRd')  # 使用黄橙红色调的颜色映射方案

# 添加颜色条
cbar = fig.colorbar(cax)

# 添加标签和标题
plt.xlabel('X轴')
plt.ylabel('Y轴')
plt.title('热力图示例')

# 保存热力图为一个图像文件
plt.savefig('heatmap.png')

plt.show()
```

您可以将上述代码保存为一个 Python 脚本，然后运行以生成热力图。在生成的热力图中，您可以根据实际数据的分布和关联性，调整颜色映射方案、标签和标题，以便更好地展示信息。最终，您会得到一个保存为 `heatmap.png` 图像文件的热力图，方便您查看和分享。</code></pre></details>
### 英文
```python
llm = "gpt-3.5-turbo-0125"

# 英文
original_prompt = "Your task is to use Python and draw a heat map based on the data given by the user."
original_prompt = f"""Original prompt: {original_prompt}"""

optimized_prompt = get_completions1(system_instruction2, original_prompt, llm)
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)
instruction_ = "You are an expert at world knowledge."
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

<details class="lake-collapse"><summary id="u8c9a67d9"><span class="ne-text">output：</span></summary><pre data-language="json" id="dlbhn" class="ne-codeblock language-json"><code>Original prompt: Your task is to use Python and draw a heat map based on the data given by the user.

Optimized prompt: Your task is to create a heatmap using Python, utilizing the data provided by the user. Ensure that the heatmap effectively visualizes the data patterns and relationships by using appropriate color schemes and annotations. Remember to include a title, axis labels, and a color bar to help interpret the heatmap accurately. Additionally, consider adjusting the aspect ratio and size of the heatmap for better readability and presentation. Finally, save the resulting heatmap as an image file for easy sharing and viewing.

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
To draw a heatmap in Python based on the data provided by the user, we would typically use libraries like Matplotlib or Seaborn. 

Here is an example of how you could create a heatmap using Seaborn:

```python
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

# Data provided by the user (you can modify this to take user input)
data = {
    'A': [1, 2, 3, 4],
    'B': [5, 6, 7, 8],
    'C': [9, 10, 11, 12],
    'D': [13, 14, 15, 16]
}

# Convert data to a DataFrame
df = pd.DataFrame(data)

# Create a heatmap using Seaborn
plt.figure(figsize=(8, 6))
sns.heatmap(df, annot=True, cmap='viridis', fmt='.2f')
plt.title('Heatmap')
plt.xlabel('Columns')
plt.ylabel('Rows')
plt.show()
```

In this code snippet, we first import necessary libraries such as Matplotlib, Seaborn, and Pandas. We then define the user-provided data in a dictionary format (which you can modify to suit your data).

We convert the data into a Pandas DataFrame and then create a heatmap using `sns.heatmap()`. We set the annotation to True so that the cell values are displayed on the heatmap. The colormap ('viridis' in this case) can be changed as needed.

Finally, we display the heatmap with column and row labels using Matplotlib. You can modify this code to accept user input for data or customize the plot further according to your requirements.

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
To create a heatmap using Python with the given data, we will use the popular libraries Matplotlib and Seaborn. Here is a step-by-step guide to achieve this:

1. First, ensure you have the required libraries installed. You can install them using pip if you haven't already:

```bash
pip install matplotlib seaborn
```

2. Now, import the necessary libraries in your Python script:

```python
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
```

3. Next, provide the user's data in a suitable format. For example, let's assume the user provides a simple 2D numpy array:

```python
data = np.random.rand(5, 5)  # Replace this with the user's data
```

4. Create a DataFrame from the user's data for better visualization:

```python
df = pd.DataFrame(data, columns=['A', 'B', 'C', 'D', 'E'])
```

5. Generate the heatmap using Seaborn's heatmap function:

```python
plt.figure(figsize=(8, 6))
sns.heatmap(df, annot=True, cmap='coolwarm', linewidths=0.5)
plt.title('User Provided Data Heatmap')
plt.xlabel('Columns')
plt.ylabel('Rows')
plt.colorbar()
plt.savefig('heatmap.png')  # Save the heatmap as an image file
plt.show()
```

6. Adjust the figure size, aspect ratio, color scheme, annotations, title, axis labels, and color bar as needed to enhance the visual presentation of the heatmap.

7. Run the Python script, and it will display the heatmap along with the desired features mentioned above. The image file 'heatmap.png' will be saved in the working directory for easy sharing and viewing.

By following these steps, you can create an informative and visually appealing heatmap based on the user's provided data. Feel free to modify the script further to customize the heatmap according to specific requirements.</code></pre></details>
## 你的任务是将用户给定的中文翻译成英文
### 中文
```python
llm = "gpt-3.5-turbo-0125"

original_prompt = "你的任务是将用户给定的中文翻译成英文。"
original_prompt = f"""原始提示：{original_prompt}"""

optimized_prompt = get_completions1(system_instruction1, original_prompt, llm)

instruction_ = "是世界知识专家。"
content = """《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。\
它是一本面向有一定编程基础或实际项目（不一定是算法）经历，\
对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，\
旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。"""
original_prompt = original_prompt + "\n" + f"<text>{content}</text>"
optimized_prompt = optimized_prompt + "\n" + f"<text>{content}</text>"
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

```python
原始提示：的任务是将用户给定的中文翻译成英文。
<text>《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。它是一本面向有一定编程基础或实际项目（不一定是算法）经历，对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。</text>

    优化后的提示：请准确翻译以下中文文本为英文，确保保持原文意思和语境的准确性。如果中文中包含专有名词或术语，请在翻译时注明其标准英文名称或提供相应的解释。此外，请确保翻译后的英文句子通顺、语法正确，并符合英文表达习惯。
    <text>《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。它是一本面向有一定编程基础或实际项目（不一定是算法）经历，对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。</text>

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
"The Butterfly Book" aims to help reduce barriers, bridge the gap between applications and research, and make the development of large-scale model applications more accessible. It is a book targeted at learners with some programming background or practical project experience (not necessarily in algorithms) who are interested in ChatGPT (or similar models) and want to use related technologies to create new products or applications. The book is designed to guide the development of applications using the ChatGPT API. The goal is to spread the methods to more people and hope that breakthroughs in new technologies can further improve the world we live in.

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
The "Butterfly Book" aims to help reduce barriers, narrow the gap between applications and research, and make the development of large-scale model applications more accessible. It is a book for learners with a certain programming foundation or practical project experience (not necessarily algorithms), who are interested in ChatGPT (or similar models) and want to use related technologies to create new products or applications. The book is designed to utilize the ChatGPT API for developing related applications. The goal is to spread the methods to more people and hope that breakthroughs in new technologies can further improve the world we live in.
```

### 英文
```python
llm = "gpt-3.5-turbo-0125"

original_prompt = "Your task is to translate the Chinese given by the user into English."
original_prompt = f"""Original prompt: {original_prompt}"""

optimized_prompt = get_completions2(system_instruction2, original_prompt, llm)

instruction_ = "You are an expert at world knowledge."
content = """《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。\
它是一本面向有一定编程基础或实际项目（不一定是算法）经历，\
对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，\
旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。"""
original_prompt = original_prompt + "\n" + f"<text>{content}</text>"
optimized_prompt = optimized_prompt + "\n" + f"<text>{content}</text>"
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

```python
Original prompt: Your task is to translate the Chinese given by the user into English.
<text>《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。它是一本面向有一定编程基础或实际项目（不一定是算法）经历，对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。</text>

Optimized prompt: Your task is to accurately translate the Chinese text provided by the user into English while ensuring that the meaning and context of the original text are preserved. Please make sure that the translated English sentences are fluent, grammatically correct, and effectively convey the intended message of the Chinese text. Additionally, if there are any specific cultural references or nuances in the Chinese text that need to be explained or adapted for an English-speaking audience, please include those in the translation.
<text>《蝴蝶书》力图帮助大家降低门槛，缩小应用程序和研究之间的差距，使得大模型应用开发变得触手可及。它是一本面向有一定编程基础或实际项目（不一定是算法）经历，对 ChatGPT（或类似模型）感兴趣、想利用相关技术做一些新产品或应用的学习者的书籍，旨在利用 ChatGPT API 开发相关应用。期望把方法传播给更多人，期望新技术的突破能够更多地改善所处的世界。</text>

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
"The Butterfly Book" aims to help everyone reduce barriers, narrow the gap between applications and research, and make the development of large model applications more accessible. It is a book aimed at learners with a certain programming foundation or practical project experience (not necessarily algorithms), interested in ChatGPT (or similar models), and wanting to use related technologies to create new products or applications. The book is designed to develop related applications using the ChatGPT API. The goal is to spread the methods to more people and hope that breakthroughs in new technologies can further improve the world we live in.

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
"The Butterfly Book" aims to help everyone lower the threshold, narrow the gap between applications and research, and make the development of large-scale model applications more accessible. It is a book targeted at learners with a certain programming foundation or practical project experience (not necessarily algorithms), who are interested in ChatGPT (or similar models) and want to use related technologies to create new products or applications. The book is designed to utilize the ChatGPT API for application development. The goal is to spread the methods to more people and hope that breakthroughs in new technologies can further improve the world we live in.
```

## 你的任务是指导初学者系统地学习数据科学
### 中文
```python
llm = "gpt-3.5-turbo-0125"

original_prompt = "你的任务是指导初学者系统地学习数据科学。"
original_prompt = f"""原始提示：{original_prompt}"""

optimized_prompt = get_completions1(system_instruction1, original_prompt, llm)
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)
instruction_ = "你是世界知识专家。"
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

```python
原始提示：的任务是指导初学者系统地学习数据科学。

优化后的提示：被要求为一个完全没有数据科学背景的初学者设计一个详细的学习计划。请描述这个计划，包括以下维度：首先，推荐适合初学者的数据科学入门教材或在线课程；其次，提供一个结构化的学习路线图，明确指出在学习过程中应该先掌握哪些基本概念，再逐步深入到哪些高级主题；最后，请提出一些实践建议，比如初学者可以通过哪些项目来巩固理论知识，以及在遇到困难时如何寻求帮助和资源。请确保的回答涵盖了数据科学的基础知识、数据清洗、数据分析、机器学习等方面。

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
学习数据科学是一个系统性的过程，需要掌握一系列基础知识和技能。以下是我建议的学习路径：

1. 编程基础：学习编程语言如Python或R，掌握基本语法和数据结构。
2. 统计学基础：了解统计学的基本概念，包括概率、假设检验、回归分析等。
3. 数据处理：学习数据清洗、转换和处理技术，包括使用Pandas或dplyr等工具。
4. 数据可视化：掌握数据可视化技术，如Matplotlib、Seaborn或ggplot2。
5. 机器学习：学习机器学习算法和技术，包括监督学习、无监督学习和深度学习。
6. 数据分析：学习如何应用统计和机器学习技术进行数据分析和建模。
7. 实践项目：通过实际项目来应用所学知识，提升实战能力。

建议初学者可以通过在线课程、教科书、博客和实践项目来学习数据科学。同时，参与数据科学社区和论坛，与其他学习者交流经验和解决问题。持续学习和实践是提升数据科学能力的关键。祝学习顺利！

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
学习数据科学对于初学者来说可能是一个挑战，但通过有计划的学习和实践，可以逐步掌握这门技能。以下是一个详细的学习计划：

### 教材和在线课程推荐：
1. **教材**：
   - "Python for Data Analysis" by Wes McKinney
   - "Introduction to Statistical Learning" by Gareth James, Daniela Witten, Trevor Hastie, and Robert Tibshirani
   - "Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow" by Aurélien Géron

2. **在线课程**：
   - Coursera上的《数据科学导论》（Introduction to Data Science）
   - Udemy上的《Python数据科学入门》（Python for Data Science）
   - Kaggle的免费数据科学教程和竞赛

### 结构化学习路线图：
1. **基础知识**：
   - 学习Python编程语言和相关库（如NumPy、Pandas、Matplotlib）
   - 了解统计学基础知识和概念
   - 掌握数据清洗和数据预处理技术

2. **数据分析**：
   - 学习数据可视化技术和工具
   - 掌握探索性数据分析（EDA）方法
   - 学习如何提取数据洞见和进行数据解释

3. **机器学习**：
   - 了解机器学习基本概念和算法（如线性回归、决策树、聚类等）
   - 学习如何构建、训练和评估机器学习模型
   - 实践项目来应用机器学习算法解决实际问题

### 实践建议：
1. **项目实践**：
   - 参与Kaggle竞赛或其他数据科学项目，以实际数据集进行实践
   - 创建个人项目，如数据分析报告或机器学习模型应用

2. **寻求帮助**：
   - 加入数据科学社区，如Kaggle、GitHub等，与其他学习者交流和分享经验
   - 寻找导师或参加数据科学学习群组，获得指导和支持
   - 利用在线资源如Stack Overflow、GitHub等解决遇到的问题

通过以上学习计划，可以逐步建立起数据科学的基础知识和技能，并通过实践项目不断提升自己的能力。记得保持耐心和持续学习，数据科学是一个持续发展的领域，不断实践和探索将帮助不断进步。祝学习顺利！
```

### 英文
```python
llm = "gpt-3.5-turbo-0125"

original_prompt = "Your task is to guide beginners through the systematic study of data science."
original_prompt = f"""Original prompt: {original_prompt}"""

optimized_prompt = get_completions1(system_instruction2, original_prompt, llm)
print(f"{original_prompt}\n")
print(f"{optimized_prompt}\n")
print("-" * 100)
instruction_ = "You are an expert at world knowledge."
result1 = get_completions2(instruction_, original_prompt, llm)
result2 = get_completions2(instruction_, optimized_prompt, llm)

print(f"原始提示的生成结果：\n{result1}\n")
print("-" * 100)
print(f"优化后的提示的生成结果：\n{result2}")
```

```python
Original prompt: Your task is to guide beginners through the systematic study of data science.

Optimized prompt: You have been tasked with creating a comprehensive guide for beginners who are interested in studying data science systematically. Please outline a detailed roadmap that covers the essential topics and skills they should focus on, starting from the basics and progressing to more advanced concepts. Include recommendations for beginner-friendly resources such as books, online courses, and tutorials. Additionally, suggest practical projects or exercises that can help reinforce their learning and provide tips on how to stay motivated and seek assistance when needed. Make sure to emphasize the importance of hands-on practice, critical thinking, and continuous learning in the field of data science.

----------------------------------------------------------------------------------------------------
原始提示的生成结果：
To guide beginners through the systematic study of data science, it's important to start with the basics and gradually build up your knowledge and skills. Here is a step-by-step guide to help you get started:

1. **Understand the Basics**: Begin by familiarizing yourself with the fundamental concepts of data science, such as what data science is, why it is important, and how it is used in various industries.

2. **Learn Programming Languages**: Data science often involves programming languages such as Python and R. Start by learning the basics of these languages and how they are used in data analysis and visualization.

3. **Statistics and Mathematics**: Data science heavily relies on statistics and mathematics. Make sure to have a good understanding of key concepts such as probability, hypothesis testing, and linear algebra.

4. **Data Wrangling**: Learn how to clean, preprocess, and manipulate data. This involves tasks such as handling missing values, removing duplicates, and transforming data into a suitable format for analysis.

5. **Data Visualization**: Understand the importance of data visualization in data science. Learn how to create effective visualizations to communicate insights from data.

6. **Machine Learning**: Dive into machine learning algorithms and techniques. Understand how to build and evaluate predictive models using supervised and unsupervised learning methods.

7. **Big Data Technologies**: Familiarize yourself with big data technologies such as Hadoop and Spark, which are commonly used for processing and analyzing large datasets.

8. **Real-world Projects**: Practice your skills by working on real-world data science projects. This will help you apply your knowledge and gain practical experience.

9. **Stay Updated**: Data science is a rapidly evolving field, so make sure to stay updated with the latest trends, tools, and techniques in the industry.

10. **Join Data Science Communities**: Engage with data science communities, attend meetups, and participate in online forums to connect with other data science enthusiasts and professionals.

Remember, learning data science is a journey that requires dedication, practice, and continuous learning. By following these steps and staying committed to your learning goals, you can build a strong foundation in data science and advance your skills in this exciting field.

----------------------------------------------------------------------------------------------------
优化后的提示的生成结果：
Roadmap for Beginners in Data Science:

1. **Introduction to Data Science**
   - Understand the basics of data science, its applications, and the role of a data scientist.
   - Recommended resources: "Data Science for Beginners" by Martin L. Shoemaker, online articles, and introductory courses on platforms like Coursera or edX.

2. **Foundational Skills**
   - Learn programming languages such as Python and R, as they are widely used in data science.
   - Familiarize yourself with data manipulation, cleaning, and visualization techniques.
   - Recommended resources: "Python for Data Analysis" by Wes McKinney, online tutorials on data manipulation libraries like Pandas and visualization tools like Matplotlib or Seaborn.

3. **Statistics and Mathematics**
   - Gain a solid understanding of statistical concepts, probability theory, and linear algebra.
   - Learn about hypothesis testing, regression analysis, and other statistical methods commonly used in data science.
   - Recommended resources: "Introduction to Statistical Learning" by Gareth James et al., online courses on statistics and mathematics on Khan Academy or Udemy.

4. **Machine Learning**
   - Dive into machine learning algorithms such as linear regression, logistic regression, decision trees, and clustering techniques.
   - Understand the concepts of supervised and unsupervised learning, model evaluation, and hyperparameter tuning.
   - Recommended resources: "Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow" by Aurélien Géron, online courses on machine learning on platforms like Coursera or fast.ai.

5. **Big Data and Data Engineering**
   - Explore tools and technologies for handling big data, such as Hadoop, Spark, and SQL databases.
   - Learn about data pipelines, data warehousing, and distributed computing.
   - Recommended resources: Online courses on big data technologies on platforms like Udacity or DataCamp, practical projects involving large datasets.

6. **Deep Learning and Neural Networks**
   - Delve into deep learning concepts, including neural networks, convolutional neural networks (CNNs), and recurrent neural networks (RNNs).
   - Understand how to implement deep learning models using frameworks like TensorFlow or PyTorch.
   - Recommended resources: "Deep Learning" by Ian Goodfellow et al., online courses on deep learning on platforms like Coursera or deeplearning.ai.

7. **Practical Projects and Exercises**
   - Work on real-world data science projects to apply your knowledge and skills.
   - Participate in Kaggle competitions, build a personal portfolio showcasing your projects, and collaborate with other data science enthusiasts.
   - Recommended resources: Kaggle datasets and competitions, GitHub for version control and project sharing, online communities like Stack Overflow or Reddit for seeking help and feedback.

8. **Continuous Learning and Growth**
   - Stay updated with the latest trends and advancements in data science through blogs, research papers, and attending conferences or meetups.
   - Engage in lifelong learning by exploring advanced topics like natural language processing (NLP), reinforcement learning, and time series analysis.
   - Recommended resources: Data science blogs like Towards Data Science, research papers on arXiv or Google Scholar, attending conferences like NeurIPS or Strata Data Conference.

Remember, the key to mastering data science is consistent practice, critical thinking, and a growth mindset. Stay motivated by setting goals, seeking mentorship from experienced professionals, and never hesitating to ask for help when needed. Embrace challenges as opportunities to learn and grow in your data science journey.
```

# 总结
**优化 ChatGPT 的 Prompts 对于提升交互体验和生成结果的质量非常重要。**以下是一些主要的原因：

+ **提高准确性**：通过优化 Prompts，可以更准确地引导 ChatGPT 生成期望的回答。这对于获取准确、相关和有用的信息至关重要。
+ **提高效率**：优化的 Prompts 可以减少无效或者不相关的回答，从而提高交互的效率。
+ **增强可控性**：通过优化 Prompts，可以更好地控制 ChatGPT 的输出，使其更符合用户的需求和期望。
+ **提升用户体验**：优化的 Prompts 可以帮助 ChatGPT 更好地理解用户的需求，从而提供更满意的回答，提升用户体验。

在实际应用中，为 LLM 提供的演示对于优化 Prompt 的性能具有重要意义。对于特定需求，如果手动构建优质的演示（**成对的原始提示和优化后的提示**）存在困难，可以利用一些商业化（非开源）的提示优化工具，如：[PromptPerfect](https://promptperfect.jina.ai/home)、[百度千帆大模型操作台的 Prompt 优化](https://cloud.baidu.com/doc/WENXINWORKSHOP/s/Clommng91)、[讯飞星火的指令优化](https://xinghuo.xfyun.cn/desk)等。这些商业工具通常进行了大量的工程优化，能够适应各种场景，满足用户的特定需求。

