> + <font style="color:#DF2A3F;">python 给变量都是直接给</font>`<font style="color:#DF2A3F;">等号（=）</font>`<font style="color:#DF2A3F;">，有变量直接定义，不用初始化类型</font>
> + <font style="color:#DF2A3F;">修改全局变量的话要在 def 里在变量前加</font>`<font style="color:#DF2A3F;">global</font>`
>

# <font style="color:rgb(0, 0, 0);">总结对比表</font>
| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">变量类型</font> | **<font style="color:#DF2A3F;">动态类型</font>** | <font style="color:rgb(0, 0, 0);">静态类型</font> |
| <font style="color:rgb(0, 0, 0);">常量定义</font> | <font style="color:rgb(0, 0, 0);">约定式伪常量</font> | <font style="color:rgb(0, 0, 0);">编译期真常量</font> |
| <font style="color:rgb(0, 0, 0);">参数传递灵活性</font> | <font style="color:rgb(0, 0, 0);">高（</font><font style="color:#DF2A3F;">默认参数、关键字参数</font><font style="color:rgb(0, 0, 0);">等）</font> | <font style="color:rgb(0, 0, 0);">低（需严格匹配类型）</font> |
| <font style="color:rgb(0, 0, 0);">多返回值</font> | <font style="color:#DF2A3F;">自然支持</font> | <font style="color:rgb(0, 0, 0);">需明确声明</font> |
| <font style="color:rgb(0, 0, 0);">错误处理</font> | <font style="color:rgb(0, 0, 0);">异常机制</font> | <font style="color:rgb(0, 0, 0);">显式错误返回值</font> |
| <font style="color:rgb(0, 0, 0);">内存管理</font> | <font style="color:rgb(0, 0, 0);">自动垃圾回收</font> | <font style="color:rgb(0, 0, 0);">自动GC + 手动控制机会</font> |
| <font style="color:rgb(0, 0, 0);">并发安全</font> | <font style="color:rgb(0, 0, 0);">GIL 限制</font> | <font style="color:rgb(0, 0, 0);">Goroutine 安全模型</font> |


**<font style="color:rgb(0, 0, 0);">开发建议</font>**<font style="color:rgb(0, 0, 0);">：</font>

+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：适合快速原型开发，利用动态类型优势</font>
+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：适合需要严格类型检查和高并发的系统级开发</font>
+ **<font style="color:rgb(0, 0, 0);">参数设计</font>**<font style="color:rgb(0, 0, 0);">：</font>
    - <font style="color:rgb(0, 0, 0);">Python 可多用可变参数和关键字参数增加灵活性</font>
    - <font style="color:rgb(0, 0, 0);">Go 推荐使用结构体封装复杂参数</font>
+ **<font style="color:rgb(0, 0, 0);">常量使用</font>**<font style="color:rgb(0, 0, 0);">：</font>
    - <font style="color:rgb(0, 0, 0);">Python 严格遵循全大写约定</font>
    - <font style="color:rgb(0, 0, 0);">Go 利用 const 确保真正不可变</font>

# <font style="color:rgb(0, 0, 0);"> 变量基础用法对比</font>
## <font style="color:rgb(0, 0, 0);">变量声明与初始化</font>
<font style="color:rgb(0, 0, 0);">Python：</font>

```python
# 动态类型，无需声明类型
a = 10                   # int
b = "hello"              # str
c = [1, 2]               # list
d = {"key": "value"}     # dict
e = 3.14                 # float
```

<font style="color:rgb(0, 0, 0);">Go：</font>

```go
// 静态类型，必须明确类型
var a int = 10           // 显式类型声明
b := "hello"             // 类型推导
var c = []int{1, 2}      // 初始化切片
d := map[string]string{"key": "value"} 
var e float64 = 3.14
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

+ <font style="color:rgb(0, 0, 0);">Python 无需类型声明，Go 必须明确类型</font>
+ <font style="color:rgb(0, 0, 0);">Go 的短变量声明</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">:=</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">只能在函数内使用</font>
+ <font style="color:rgb(0, 0, 0);">Python 变量可随时改变类型</font>

# <font style="color:rgb(0, 0, 0);">函数参数处理</font>
## <font style="color:rgb(0, 0, 0);">参数传递基础</font>
<font style="color:rgb(0, 0, 0);">Python 灵活传参：</font>

```python
def process(data, times=1):  # 默认参数
    return data * times

process("Hi", 3)       # 位置参数
process(times=2, data=5)  # 关键字参数
```

<font style="color:rgb(0, 0, 0);">Go 严格传参：</font>

```go
func Process(data interface{}, times int) interface{} {
    // 需手动处理类型
    switch v := data.(type) {
        case string:
        return strings.Repeat(v, times)
        case int:
        return v * times
        default:
        return nil
    }
}

Process("Hi", 3)       // 只能位置传参
```

## <font style="color:rgb(0, 0, 0);">可变参数</font>
<font style="color:rgb(0, 0, 0);">Python：</font>

```python
def sum_all(*args):
    return sum(args)

print(sum_all(1, 2, 3))  # 6 // 任意类型
```

<font style="color:rgb(0, 0, 0);">Go：</font>

```go
func SumAll(nums ...int) int {
    total := 0
    for _, n := range nums {
        total += n
    }
    return total
}

SumAll(1, 2, 3)  // 必须同类型
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">默认参数</font> | <font style="color:rgb(0, 0, 0);">支持</font> | <font style="color:rgb(0, 0, 0);">不支持</font> |
| <font style="color:rgb(0, 0, 0);">关键字参数</font> | <font style="color:rgb(0, 0, 0);">支持</font> | <font style="color:rgb(0, 0, 0);">不支持</font> |
| <font style="color:rgb(0, 0, 0);">可变参数类型</font> | **<font style="color:rgb(0, 0, 0);">任意类型</font>** | <font style="color:rgb(0, 0, 0);">必须统一类型</font> |
| <font style="color:rgb(0, 0, 0);">参数校验</font> | <font style="color:rgb(0, 0, 0);">运行时动态检查</font> | <font style="color:rgb(0, 0, 0);">编译期静态检查</font> |


# <font style="color:rgb(0, 0, 0);">返回值处理</font>
## <font style="color:rgb(0, 0, 0);">多返回值</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font><font style="color:#DF2A3F;">python 的返回值不用声明？</font>

```python
def split_name(full_name):
    names = full_name.split()
    return names[0], names[1] if len(names)>1 else ""

first, last = split_name("Alice Smith")
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
func SplitName(fullName string) (string, string) {
    names := strings.Split(fullName, " ")
    if len(names) > 1 {
        return names[0], names[1]
    }
    return names[0], ""
}

firstName, lastName := SplitName("Alice Smith")
```

## <font style="color:rgb(0, 0, 0);">错误处理</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def divide(a, b):
    try:
        return a / b, None
    except ZeroDivisionError as e:
        return None, str(e)

result, error = divide(10, 0)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
func Divide(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("division by zero")
    }
    return a / b, nil
}

result, err := Divide(10, 0)
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">返回值数量</font> | **<font style="color:#DF2A3F;">不限</font>** | <font style="color:rgb(0, 0, 0);">不限但需明确声明</font> |
| <font style="color:rgb(0, 0, 0);">错误处理</font> | <font style="color:rgb(0, 0, 0);">异常机制</font> | <font style="color:rgb(0, 0, 0);">显式错误返回值</font> |
| <font style="color:rgb(0, 0, 0);">返回值类型</font> | **<font style="color:#DF2A3F;">动态类型</font>** | <font style="color:rgb(0, 0, 0);">必须明确类型</font> |


# <font style="color:rgb(0, 0, 0);">常量定义</font>
<font style="color:rgb(0,0,0);">一个字面意义上的常量的例子是如同 </font>`<font style="color:rgb(0,0,0);">5</font>`<font style="color:rgb(0,0,0);"> 、 </font>`<font style="color:rgb(0,0,0);">1.23 </font>`<font style="color:rgb(0,0,0);">、</font>`<font style="color:rgb(0,0,0);"> 9.25e-3 </font>`<font style="color:rgb(0,0,0);">这样的数，或者如同 </font>`<font style="color:rgb(0,0,0);">‘This is a string’ </font>`<font style="color:rgb(0,0,0);">、 </font>`<font style="color:rgb(0,0,0);">"It’sa string!" </font>`<font style="color:rgb(0,0,0);">这样的字符串。</font>

<font style="color:rgb(0,0,0);">它们被称作字面意义上的，因为它们具备字面的意义 ，你按照它们的字面意义使用它们的值。</font>

<font style="color:rgb(0,0,0);">数 </font>`<font style="color:rgb(0,0,0);">2</font>`<font style="color:rgb(0,0,0);"> 总是代表它自己，而不会是别的什么东西 ，它是一个常量，因为不能改变它的值。因此，所有这些都被称为字面意义上的常量。</font>

## <font style="color:rgb(0, 0, 0);">基本定义</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">（约定常量）：</font>

```python
MAX_CONNECTIONS = 100   # 全大写约定，实际仍可变
PI = 3.1415926

# 尝试修改不会报错
MAX_CONNECTIONS = 200   # 允许但不符合规范
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">（真正常量）：</font>

```go
const (
    MaxConnections = 100
    Pi = 3.1415926
)

// 以下代码会编译报错
// MaxConnections = 200
```

## <font style="color:rgb(0, 0, 0);">枚举实现</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：继承这个类Enum</font>

```python
from enum import Enum

class Color(Enum):
    RED = 1
    GREEN = 2
    BLUE = 3

print(Color.RED.value)  # 1
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
type Color int

const (
    Red Color = iota + 1
    Green
    Blue
)

fmt.Println(Red)  // 1
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">常量不可变性</font> | <font style="color:rgb(0, 0, 0);">仅约定，实际可修改</font> | <font style="color:rgb(0, 0, 0);">编译期强制不可修改</font> |
| <font style="color:rgb(0, 0, 0);">枚举支持</font> | <font style="color:rgb(0, 0, 0);">通过 Enum 类实现</font> | <font style="color:rgb(0, 0, 0);">通过 iota 实现</font> |
| <font style="color:rgb(0, 0, 0);">类型要求</font> | <font style="color:rgb(0, 0, 0);">无类型限制</font> | <font style="color:rgb(0, 0, 0);">必须明确基础类型</font> |


# <font style="color:rgb(0, 0, 0);">作用域对比</font>
## <font style="color:rgb(0, 0, 0);">全局变量</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
count = 0

def increment():
    global count
    count += 1

increment()
print(count)  # 1
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
var count int = 0

func Increment() {
    // 直接修改会编译错误
    // count += 1 
}

// 正确方式
func Increment() {
    globalMutex.Lock()
    defer globalMutex.Unlock()
    count++
}
```

## <font style="color:rgb(0, 0, 0);">闭包</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def counter():
    n = 0
    def inc():
        nonlocal n
        n += 1
        return n
    return inc

c = counter()
print(c(), c())  # 1 2
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
func Counter() func() int {
    n := 0
    return func() int {
        n++
        return n
    }
}

c := Counter()
fmt.Println(c(), c())  // 1 2
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">全局变量修改</font> | <font style="color:rgb(0, 0, 0);">需要 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">global</font>`<font style="color:rgb(0, 0, 0);">声明</font> | <font style="color:rgb(0, 0, 0);">包级变量需谨慎处理</font> |
| <font style="color:rgb(0, 0, 0);">闭包实现</font> | <font style="color:rgb(0, 0, 0);">自然支持</font> | <font style="color:rgb(0, 0, 0);">自然支持</font> |
| <font style="color:rgb(0, 0, 0);">线程安全</font> | <font style="color:rgb(0, 0, 0);">GIL 保护基本操作</font> | <font style="color:rgb(0, 0, 0);">需手动加锁</font> |


# <font style="color:rgb(0, 0, 0);">特殊参数处理</font>
## <font style="color:rgb(0, 0, 0);">可变对象传递</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">（传递引用）：</font>

```python
def modify_list(lst):
    lst.append(4)

nums = [1, 2, 3]
modify_list(nums)
print(nums)  # [1,2,3,4]
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">（值传递需指针）：</font>

```go
func ModifyList(lst *[]int) {
    *lst = append(*lst, 4)
}

nums := []int{1,2,3}
ModifyList(&nums)  // [1,2,3,4]
```

## <font style="color:rgb(0, 0, 0);">函数作为参数</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def square(x):
    return x ** 2

def apply(func, arg):
    return func(arg)

print(apply(square, 5))  # 25
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
func Square(x int) int {
    return x * x
}

func Apply(f func(int) int, arg int) int {
    return f(arg)
}

fmt.Println(Apply(Square, 5))  // 25
```



