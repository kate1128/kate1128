# 关键字段详解
<font style="color:rgb(0, 0, 0);">两种语言的关键字差异反映了不同的设计哲学：</font>

+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">追求开发效率和灵活性</font>
    - <font style="color:rgb(0, 0, 0);">动态类型</font>
    - <font style="color:rgb(0, 0, 0);">丰富的语法糖</font>
    - <font style="color:rgb(0, 0, 0);">隐式接口实现</font>
+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">强调工程化和性能</font>
    - <font style="color:rgb(0, 0, 0);">静态类型</font>
    - <font style="color:rgb(0, 0, 0);">显式错误处理</font>
    - <font style="color:rgb(0, 0, 0);">内置并发原语</font>

<font style="color:rgb(0, 0, 0);">建议根据项目需求选择：</font>

+ **<font style="color:rgb(0, 0, 0);">数据分析/脚本</font>**<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">→ Python</font>
+ **<font style="color:rgb(0, 0, 0);">高性能服务/系统工具</font>**<font style="color:rgb(0, 0, 0);"> → Go</font>

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">def</font>`<font style="color:rgb(0, 0, 0);"> (函数定义)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def add(a, b):
    return a + b
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 使用 func 关键字
func add(a int, b int) int {
    return a + b
}

// 多返回值版本
func divide(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("division by zero")
    }
    return a / b, nil
}
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">class</font>`<font style="color:rgb(0, 0, 0);"> (类定义)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
class Dog:
    def __init__(self, name):
        self.name = name

    def bark(self):
        print("Woof!")

d = Dog("Buddy")
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 使用 struct 和 receiver 方法
type Dog struct {
    Name string
}

func (d Dog) Bark() {
    fmt.Println("Woof!")
}

// "构造函数"约定
func NewDog(name string) Dog {
    return Dog{Name: name}
}

d := NewDog("Buddy")
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">with</font>`<font style="color:rgb(0, 0, 0);"> (上下文管理)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
with open("file.txt") as f:
    data = f.read()
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 使用 defer 实现类似功能
func readFile() {
    f, err := os.Open("file.txt")
    if err != nil {
        log.Fatal(err)
    }
    defer f.Close()  // 确保函数退出时关闭

    data, _ := io.ReadAll(f)
    fmt.Println(string(data))
}
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">as</font>`<font style="color:rgb(0, 0, 0);"> (别名/异常捕获)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
# 别名
import numpy as np

# 异常捕获
try:
    risky_operation()
except ValueError as ve:
    print(ve)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 别名
import np "numpy"  // 不支持，但可以包别名
import (
    "fmt"
    mth "math"      // 包别名
)

// 错误处理（没有直接等效）
result, err := riskyOperation()
if err != nil {
    fmt.Println(err)  // 类似 except 块
}
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">lambda</font>`<font style="color:rgb(0, 0, 0);"> (匿名函数)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
square = lambda x: x ** 2
sorted_list = sorted([3,1,2], key=lambda x: -x)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 使用函数字面量（闭包）
square := func(x int) int { return x * x }

// 排序需要显式函数
sort.Slice(numbers, func(i, j int) bool {
    return numbers[i] > numbers[j]
})
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">yield</font>`<font style="color:rgb(0, 0, 0);"> (生成器)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def count_up_to(max):
    count = 0
    while count < max:
        yield count
        count += 1

gen = count_up_to(5)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 使用通道（channel）实现类似功能
func countUpTo(max int) <-chan int {
    ch := make(chan int)
    go func() {
        for i := 0; i < max; i++ {
            ch <- i
        }
        close(ch)
    }()
    return ch
}

ch := countUpTo(5)
for n := range ch {
    fmt.Println(n)
}
```

## <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">try</font>`<font style="color:rgb(0, 0, 0);">/</font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">except</font>`<font style="color:rgb(0, 0, 0);"> (异常处理)</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
try:
    result = 10 / 0
except ZeroDivisionError:
    print("Cannot divide by zero")
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// 显式错误检查
func main() {
    result, err := divide(10, 0)
    if err != nil {
        fmt.Println("Error:", err)
        return
    }
    fmt.Println(result)
}

// panic/recover 类似 try-catch（不推荐常规使用）
func safeDivide(a, b int) (res int) {
    defer func() {
        if r := recover(); r != nil {
            res = 0
        }
    }()
    return a / b
}
```

# <font style="color:rgb(0, 0, 0);">设计哲学差异体现</font>
## <font style="color:rgb(0, 0, 0);">错误处理</font>
+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：通过异常机制向上冒泡</font>

```python
try:
    risky_call()
except Exception as e:
    handle_error(e)
```

+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：通过多返回值强制显式处理</font>

```go
result, err := riskyCall()
if err != nil {
    // 必须立即处理错误
}
```

## <font style="color:rgb(0, 0, 0);">面向对象</font>
+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：完整的类继承体系</font>

```python
class Animal:
    def move(self):
        pass

class Bird(Animal):
    def move(self):
        print("Flying")
```

+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：通过接口实现的鸭子类型</font>

```go
type Mover interface {
    Move()
}

type Bird struct{}

func (b Bird) Move() {
    fmt.Println("Flying")
}
```

## <font style="color:rgb(0, 0, 0);">并发模型</font>
+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：受 GIL 限制的线程</font>

```python
from threading import Thread

t = Thread(target=worker)
t.start()
```

+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：轻量级协程</font>

```go
go worker()  // 启动一个协程
```

# <font style="color:rgb(0, 0, 0);">典型场景对比</font>
## <font style="color:rgb(0, 0, 0);">文件处理</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
with open("data.csv") as f:
    reader = csv.DictReader(f)
    for row in reader:
        process(row)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
func processCSV() {
    f, err := os.Open("data.csv")
    if err != nil {
        log.Fatal(err)
    }
    defer f.Close()

    reader := csv.NewReader(f)
    for {
        record, err := reader.Read()
        if err == io.EOF {
            break
        }
        if err != nil {
            log.Fatal(err)
        }
        process(record)
    }
}
```

## <font style="color:rgb(0, 0, 0);">Web 路由</font>
**<font style="color:rgb(0, 0, 0);">Python (Flask)</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
@app.route("/users/<int:user_id>")
def get_user(user_id):
    user = find_user(user_id)
    return jsonify(user)
```

**<font style="color:rgb(0, 0, 0);">Go (Echo框架)</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
e.GET("/users/:id", func(c echo.Context) error {
    id, _ := strconv.Atoi(c.Param("id"))
    user := findUser(id)
    return c.JSON(http.StatusOK, user)
})
```



