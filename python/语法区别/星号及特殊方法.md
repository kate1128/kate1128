# `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">*args</font>`<font style="color:rgb(0, 0, 0);"> 与 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">**kwargs</font>`<font style="color:rgb(0, 0, 0);"> 的作用</font>
## <font style="color:rgb(0, 0, 0);">参数解包语法</font>
<font style="color:#DF2A3F;">为啥它就知道 args 是 2，3 了？？？</font>

```python
def example(a, *args, **kwargs):
    print("固定参数:", a)
    print("位置参数:", args)  # 元组形式
    print("关键字参数:", kwargs)  # 字典形式

example(1, 2, 3, name="Alice", age=30)
```

**<font style="color:rgb(0, 0, 0);">输出</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
固定参数: 1
位置参数: (2, 3)
关键字参数: {'name': 'Alice', 'age': 30}
```

## <font style="color:rgb(0, 0, 0);">在 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__new__</font>`<font style="color:rgb(0, 0, 0);"> 中的应用</font>
```python
class CustomClass:
    def __new__(cls, *args, **kwargs):
        print("创建实例，参数:", args, kwargs)
        return super().__new__(cls)  # 调用父类的 __new__

    def __init__(self, name, value):
        self.name = name
        self.value = value

obj = CustomClass("demo", 42, extra=5)
```

**<font style="color:rgb(0, 0, 0);">输出</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
创建实例，参数: ('demo', 42) {'extra': 5}
```

# <font style="color:rgb(0, 0, 0);"></font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__str__</font>`<font style="color:rgb(0, 0, 0);"> 方法的作用</font>
## <font style="color:rgb(0, 0, 0);">未定义 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__str__</font>`<font style="color:rgb(0, 0, 0);"> 的情况</font>
<font style="color:#DF2A3F;">不定义的话输出的是地址？？</font>

```python
class BasicList:
    def __init__(self, data):
        self.data = data

lst = BasicList([1,2,3])
print(lst)  # 输出: <__main__.BasicList object at 0x...>
```

## <font style="color:rgb(0, 0, 0);">定义 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__str__</font>`<font style="color:rgb(0, 0, 0);"> 后</font>
```python
class PrettyList:
    def __init__(self, data):
        self.data = data

    def __str__(self):
        return f"优雅的列表: {self.data}"

lst = PrettyList([1,2,3])
print(lst)  # 输出: 优雅的列表: [1, 2, 3]
```

## <font style="color:rgb(0, 0, 0);">对比 </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__repr__</font>`
<font style="color:#DF2A3F;">和</font>`<font style="color:#DF2A3F;">__str__</font>`<font style="color:#DF2A3F;"> 有啥区别？？</font>

```python
class DebugList:
    def __repr__(self):
        return "开发者用的表示"

dl = DebugList()
print(dl)  # 输出: 开发者用的表示（当 __str__ 未定义时，自动用 __repr__）
```

# <font style="color:rgb(0, 0, 0);"> 不可变类型详解</font>
## <font style="color:rgb(0, 0, 0);">不可变对象定义</font>
<font style="color:#DF2A3F;">不可变就是不允许修改，元素不可以修改！！go 里有对应的结构吗？</font>

```python
# 元组（不可变）
t = (1, 2, 3)
t[0] = 5  # 报错: TypeError

# 列表（可变）
lst = [1, 2, 3]
lst[0] = 5  # 允许修改
```

## <font style="color:rgb(0, 0, 0);">常见不可变类型</font>
| **<font style="color:rgb(0, 0, 0);">类型</font>** | **<font style="color:rgb(0, 0, 0);">示例</font>** | **<font style="color:rgb(0, 0, 0);">特性</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">元组</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">(1, "a")</font>` | <font style="color:rgb(0, 0, 0);">元素不可变</font> |
| <font style="color:rgb(0, 0, 0);">字符串</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">"hello"</font>` | <font style="color:rgb(0, 0, 0);">字符不可变</font> |
| <font style="color:rgb(0, 0, 0);">整数</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">42</font>` | <font style="color:rgb(0, 0, 0);">值不可变</font> |
| <font style="color:rgb(0, 0, 0);">浮点数</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">3.14</font>` | <font style="color:rgb(0, 0, 0);">值不可变</font> |
| <font style="color:rgb(0, 0, 0);">冻结集合</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">frozenset({1,2})</font>` | <font style="color:rgb(0, 0, 0);">集合元素不可变</font> |


## <font style="color:rgb(0, 0, 0);">元组特殊用法</font>
```python
# 单元素元组需加逗号
single = (42,)  # 正确
not_single = (42)  # 实际是整数

# 解包操作
a, b, c = (1, 2, 3)
```

# <font style="color:rgb(0, 0, 0);">与 Go 的对比</font>
## <font style="color:rgb(0, 0, 0);">参数处理</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
def variadic(*args):
    print(args)
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// Go 的可变参数
func variadic(args ...int) {
    fmt.Println(args)
}
```

## <font style="color:rgb(0, 0, 0);">不可变设计</font>
**<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);">：</font>

```python
# 语言原生支持不可变类型
hashtable = { (1,2): "value" }  # 元组作为键合法
```

**<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);">：</font>

```go
// Go 中数组是值类型（类似不可变）
arr := [3]int{1,2,3}
arrCopy := arr  // 深拷贝

// 但无原生不可变集合类型
```

# <font style="color:rgb(0, 0, 0);">最佳实践建议</font>
## <font style="color:rgb(0, 0, 0);">参数处理原则</font>
+ <font style="color:rgb(0, 0, 0);">使用</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">*args</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">收集不确定数量的位置参数</font>
+ <font style="color:rgb(0, 0, 0);">使用</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">**kwargs</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">收集关键字参数</font>
+ <font style="color:rgb(0, 0, 0);">在继承场景中保持参数传递灵活性</font>

## <font style="color:rgb(0, 0, 0);">字符串表示规范</font>
+ <font style="color:rgb(0, 0, 0);">为重要类实现</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__str__</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">提升可读性</font>
+ <font style="color:rgb(0, 0, 0);">始终实现</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__repr__</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">用于调试</font>
+ <font style="color:rgb(0, 0, 0);">遵循惯例：</font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__repr__</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">的输出应能用于</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">eval()</font>`<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">重建对象</font>

## <font style="color:rgb(0, 0, 0);">不可变类型使用场景</font>
+ <font style="color:rgb(0, 0, 0);">字典的键</font>
+ <font style="color:rgb(0, 0, 0);">多线程共享数据</font>
+ <font style="color:rgb(0, 0, 0);">函数默认参数</font>
+ <font style="color:rgb(0, 0, 0);">需要哈希化的场景</font>

