# <font style="color:rgb(0, 0, 0);"> 字符串处理</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 多行字符串
s = """This is a
multi-line string"""

# 字符串格式化
name = "Alice"
print(f"Hello {name}")  # f-string (3.6+)

# 字符串方法
"hello".upper()  # "HELLO"
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
// 原始字符串（保留换行和格式）
s := `This is a
multi-line string`

// 字符串格式化
name := "Alice"
fmt.Printf("Hello %s\n", name)  // 类似C的格式化

// 字符串操作（需使用strings包）
strings.ToUpper("hello")  // "HELLO"
```

# <font style="color:rgb(0, 0, 0);">枚举实现</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
from enum import Enum

class Color(Enum):
    RED = 1
    GREEN = 2
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
type Color int

const (
    Red Color = iota + 1  // 自动递增
    Green
)

// 带字符串描述
func (c Color) String() string {
    return [...]string{"Red", "Green"}[c-1]
}
```

# <font style="color:rgb(0, 0, 0);">复合初始化</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 字典推导式
squares = {x: x*x for x in range(5)}

# 列表生成式
evens = [x for x in range(10) if x%2 ==0]
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
// 快速初始化结构体
p := &Person{  // 返回指针
    Name: "Bob",
    Age:  30,
}

// 数组字面量
arr := [3]int{1, 2, 3}  // 固定长度数组

// 切片初始化
slice := []int{1, 2, 3}
```

# <font style="color:rgb(0, 0, 0);">闭包差异</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
def multipliers():
    return [lambda x: i*x for i in range(4)]

print([m(2) for m in multipliers()])  # [6,6,6,6] (闭包捕获变量引用)
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
func multipliers() []func(int) int {
    var fs []func(int) int
    for i := 0; i < 4; i++ {
        x := i  // 创建局部变量副本
        fs = append(fs, func(n int) int {
            return x * n
        })
    }
    return fs
}
// 调用结果：0,2,4,6
```

**<font style="color:rgb(0, 0, 0);">关键差异</font>**<font style="color:rgb(0, 0, 0);">：</font>

+ <font style="color:rgb(0, 0, 0);">Go的闭包捕获变量值时需要显式复制</font>
+ <font style="color:rgb(0, 0, 0);">Python的闭包捕获变量引用（后期绑定）</font>

# <font style="color:rgb(0, 0, 0);">数组 vs 切片</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 只有列表（类似Go的切片）
lst = [1,2,3]
lst_copy = lst[:]  # 浅拷贝
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
// 数组（值类型，长度固定）
arr := [3]int{1,2,3}  // 类型是 [3]int
arrCopy := arr        // 深拷贝

// 切片（引用类型，动态长度）
slice := []int{1,2,3}
sliceCopy := slice[:]  // 共享底层数组
```

# <font style="color:rgb(0, 0, 0);">switch 语句</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 没有原生switch，3.10+有模式匹配
match status:
case 200:
    print("OK")
case 404:
    print("Not Found")
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
switch status {
    case 200:
    fmt.Println("OK")
    case 404:
    fmt.Println("Not Found")
    default:
    fmt.Println("Unknown")
}

// 无表达式形式
switch {
    case score >= 90:
    grade = "A"
    case score >= 80:
    grade = "B"
}
```

# <font style="color:rgb(0, 0, 0);">空值处理</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# None 表示空值
value = None

# 空检查
if value is None:
    print("No value")
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
// 零值机制
var s string  // 默认空字符串""

// 显式空值（指针类型）
var ptr *int = nil

// 接口类型空值
var err error  // nil

// 空检查
if ptr == nil {
    fmt.Println("Pointer is nil")
}
```

# <font style="color:rgb(0, 0, 0);">init 函数</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 模块级代码自动执行
print("Module initialized")

def __init__(self):  # 类初始化方法
    pass
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
// 包级别初始化函数
func init() {
    fmt.Println("Package initialized")
}

// 可以有多个init函数（按文件顺序执行）
```

# <font style="color:rgb(0, 0, 0);">标签与goto</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
# 不支持goto语句
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
func main() {
    i := 0
    Start:  // 标签声明
    fmt.Println(i)
    i++
    if i < 5 {
        goto Start  // 跳转到标签
    }
}
```

# <font style="color:rgb(0, 0, 0);">结构体标签</font>
<font style="color:rgb(0, 0, 0);">Go特有语法</font>

```go
type User struct {
    Name string `json:"name" validate:"required"`
    Age  int    `json:"age"`
}

// 通过反射读取标签
func PrintTags(u User) {
    t := reflect.TypeOf(u)
    for i := 0; i < t.NumField(); i++ {
        field := t.Field(i)
        fmt.Println(field.Tag.Get("json"))
    }
}
```

# <font style="color:rgb(0, 0, 0);">其他语法差异</font>
| **<font style="color:rgb(0, 0, 0);">特性</font>** | **<font style="color:rgb(0, 0, 0);">Python</font>** | **<font style="color:rgb(0, 0, 0);">Go</font>** |
| :--- | :--- | :--- |
| <font style="color:rgb(0, 0, 0);">运算符重载</font> | <font style="color:rgb(0, 0, 0);">支持（通过魔术方法）</font> | <font style="color:rgb(0, 0, 0);">不支持</font> |
| <font style="color:rgb(0, 0, 0);">可变性</font> | <font style="color:rgb(0, 0, 0);">列表/字典可变</font> | <font style="color:rgb(0, 0, 0);">数组不可变，切片/映射可变</font> |
| <font style="color:rgb(0, 0, 0);">反射操作</font> | <font style="color:rgb(0, 0, 0);">通过</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">__dict__</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">和</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">inspect</font>` | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">reflect</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">包提供完整反射功能</font> |
| <font style="color:rgb(0, 0, 0);">代码组织规范</font> | <font style="color:rgb(0, 0, 0);">PEP8 规范（非强制）</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">gofmt</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">强制执行统一格式</font> |
| <font style="color:rgb(0, 0, 0);">依赖管理</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">pip</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">+</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">requirements.txt</font>` | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">go mod</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">+</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">go.sum</font>` |
| <font style="color:rgb(0, 0, 0);">空值检查运算符</font> | <font style="color:rgb(0, 0, 0);">无（使用</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">is None</font>`<br/><font style="color:rgb(0, 0, 0);">）</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">?.</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">提案中（暂未正式支持）</font> |
| <font style="color:rgb(0, 0, 0);">默认参数值</font> | <font style="color:rgb(0, 0, 0);">支持</font> | <font style="color:rgb(0, 0, 0);">不支持（需用结构体参数替代）</font> |
| <font style="color:rgb(0, 0, 0);">可变参数</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">*args</font>`<br/><font style="color:rgb(0, 0, 0);">,</font><font style="color:rgb(0, 0, 0);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">**kwargs</font>` | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">...Type</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">语法</font> |
| <font style="color:rgb(0, 0, 0);">元组解包</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">a, b = (1, 2)</font>` | <font style="color:rgb(0, 0, 0);">类似语法：</font>`<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">a, b := 1, 2</font>` |
| <font style="color:rgb(0, 0, 0);">内存视图</font> | `<font style="color:rgb(0, 0, 0);background-color:rgba(27, 31, 35, 0.05);">memoryview</font>`<br/><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">对象</font> | <font style="color:rgb(0, 0, 0);">切片直接操作底层数组</font> |


# <font style="color:rgb(0, 0, 0);">实用对比示例</font>
## <font style="color:rgb(0, 0, 0);">文件读取</font>
<font style="color:rgb(0, 0, 0);">Python</font>

```python
with open("data.txt") as f:
    content = f.read()
    print(content.splitlines())
```

<font style="color:rgb(0, 0, 0);">Go</font>

```go
func readFile() {
    data, err := os.ReadFile("data.txt")
    if err != nil {
        log.Fatal(err)
    }
    lines := strings.Split(string(data), "\n")
    fmt.Println(lines)
}
```

## <font style="color:rgb(0, 0, 0);">HTTP 服务</font>
### <font style="color:rgb(0, 0, 0);">Python (Flask)</font>
```python
from flask import Flask
app = Flask(__name__)

@app.route("/")
def home():
    return "Hello Python"
```

### <font style="color:rgb(0, 0, 0);">Go (net/http)</font>
```go
func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        fmt.Fprint(w, "Hello Go")
    })
    http.ListenAndServe(":8080", nil)
}
```

<font style="color:rgb(0, 0, 0);">这些示例展示了两种语言在解决相同问题时的不同哲学：</font>

+ **<font style="color:rgb(0, 0, 0);">Python</font>**<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">追求简洁和表达力，通过语法糖减少样板代码</font>
+ **<font style="color:rgb(0, 0, 0);">Go</font>**<font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">强调明确性和安全性，通过严格语法强制开发者处理潜在问题</font>

<font style="color:rgb(0, 0, 0);">建议通过实际项目练习来加深理解，特别是关注：类型系统、错误处理、并发模型这三个核心差异领域。</font>

